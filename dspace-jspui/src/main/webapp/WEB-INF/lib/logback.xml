<?xml version="1.0" encoding="UTF-8"?>
<configuration scan="true" scanPeriod="30 seconds">
	<appender name="console" class="ch.qos.logback.core.ConsoleAppender">
		<filter class="ch.qos.logback.classic.filter.ThresholdFilter">
		      <level>ERROR</level>
		 </filter>
		<encoder>
			<pattern>[${log_instance}] %d %p [%c] - &lt;%m&gt;%n</pattern>
		</encoder>
	</appender>
	<appender name="logfile" class="ch.qos.logback.core.rolling.RollingFileAppender">
		<filter class="ch.qos.logback.classic.filter.ThresholdFilter">
		      <level>WARN</level>
		 </filter>
		<File>${log_path}${log_filename}.log</File>
		<encoder>
			<pattern>[${log_instance}] %d %p [%c] - &lt;%m&gt;%n</pattern>
		</encoder>
		<rollingPolicy class="ch.qos.logback.core.rolling.FixedWindowRollingPolicy">
			<maxIndex>10</maxIndex>
			<FileNamePattern>${log_path}${log_filename}.log.%i
			</FileNamePattern>
		</rollingPolicy>
		<triggeringPolicy class="ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy">
			<MaxFileSize>10MB</MaxFileSize>
		</triggeringPolicy>
	</appender>

	<!-- This file appender is used to output sql hibernate -->
	<appender name="sqlfile" class="ch.qos.logback.core.rolling.RollingFileAppender">
		<filter class="ch.qos.logback.classic.filter.ThresholdFilter">
		      <level>WARN</level>
		 </filter>
		<File>${log_path}${log_filename}-sql.log</File>
		<encoder>
			<pattern>[${log_instance}] %d %p [%c] - &lt;%m&gt;%n</pattern>
		</encoder>
		<rollingPolicy class="ch.qos.logback.core.rolling.FixedWindowRollingPolicy">
			<maxIndex>10</maxIndex>
			<FileNamePattern>${log_path}${log_filename}-sql.log.%i
			</FileNamePattern>
		</rollingPolicy>
		<triggeringPolicy class="ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy">
			<MaxFileSize>10MB</MaxFileSize>
		</triggeringPolicy>
	</appender>

	<!-- This file appender is used to output aggregated performance statistics -->
	<appender name="perfStats" class="ch.qos.logback.core.rolling.RollingFileAppender">
		<File>${log_path}${log_filename}-perfStats.log</File>
		<encoder>
			<pattern>[${log_instance}] %m%n</pattern>
		</encoder>
		<rollingPolicy class="ch.qos.logback.core.rolling.FixedWindowRollingPolicy">
			<maxIndex>10</maxIndex>
			<FileNamePattern>${log_path}${log_filename}-perfStats.log.%i
			</FileNamePattern>
		</rollingPolicy>
		<triggeringPolicy class="ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy">
			<MaxFileSize>5MB</MaxFileSize>
		</triggeringPolicy>
	</appender>



	<!-- WARNING: Setting the org.springframework logger to DEBUG displays debug 
		information about the request parameter values being bound to the command 
		objects. This could expose your password in the log file. If you are sharing 
		your log files, it is recommend you selectively apply DEBUG level logging 
		on a an org.springframework.* package level (i.e. org.springframework.dao) -->
	<logger name="org.springframework" level="INFO" />
	<logger name="org.springframework.webflow" level="INFO" />
	<logger name="org.apache.axis" level="INFO" />

	<logger name="it.cilea.core.synchronization.service.jms" level="DEBUG" additivity="false">
		<appender-ref ref="messaginglog" />
	</logger>
	<logger name="org.springframework.jms" level="WARN" additivity="false">
		<appender-ref ref="messaginglog" />
	</logger>
	
	
	<logger name="org.hibernate.SQL" level="DEBUG" additivity="false">
		<appender-ref ref="sqlfile" />
	</logger>
	<logger name="org.hibernate.type.descriptor.sql" level="TRACE" additivity="false">
		<appender-ref ref="sqlfile" />
	</logger>
	
	
	<logger name="org.springframework.web.client.RestTemplate" level="WARN"/>
	<logger name="org.jasig.cas.client.util.CommonUtils" level="ERROR"/>
	
	
	<logger name="org.jasig" additivity="true" level="INFO">
		<appender-ref ref="logfile" />
	</logger>
	<logger name="it.cilea" level="INFO" >
		<appender-ref ref="logfile" />
	</logger>


	<logger name="com.github.inspektr.audit.support.Slf4jLoggingAuditTrailManager"  level="INFO">
		<appender-ref ref="logfile" />
	</logger>
	<!-- WARNING: Setting the flow package to DEBUG will display the parameters 
		posted to the login servlet including cleartext authentication credentials -->
	<logger name="org.jasig.cas.web.flow" additivity="true"  level="INFO">
		<appender-ref ref="logfile" />
	</logger>
	<!-- The root logger sends all log statements EXCEPT those sent to the perf4j 
		logger to System.out. -->
	
	<root level="DEBUG">
		<appender-ref ref="console" />
		<appender-ref ref="logfile" />
	</root>
</configuration>
